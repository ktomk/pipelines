<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=canonical href=https://ktomk.github.io/pipelines/index.html><link rel=icon href=assets/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-7.1.3"><title>Pipelines - Pipelines - Run Bitbucket Pipelines Wherever They Dock</title><link rel=stylesheet href=assets/stylesheets/main.e35208c4.min.css><link rel=stylesheet href=assets/stylesheets/palette.ef6f36e2.min.css><link rel=stylesheet href=assets/extra.css></head> <body dir=ltr data-md-color-scheme data-md-color-primary=none data-md-color-accent=none> <script>function __prefix(e){return new URL(".",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#pipelines class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=. title="Pipelines - Run Bitbucket Pipelines Wherever They Dock" class="md-header__button md-logo" aria-label="Pipelines - Run Bitbucket Pipelines Wherever They Dock" data-md-component=logo> <img src=assets/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Pipelines - Run Bitbucket Pipelines Wherever They Dock </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Pipelines </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/ktomk/pipelines/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> ktomk/pipelines </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=index.html class="md-tabs__link md-tabs__link--active"> Read Me </a> </li> <li class=md-tabs__item> <a href=doc/PIPELINES-OFFLINE.html class=md-tabs__link> Docs </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=. title="Pipelines - Run Bitbucket Pipelines Wherever They Dock" class="md-nav__button md-logo" aria-label="Pipelines - Run Bitbucket Pipelines Wherever They Dock" data-md-component=logo> <img src=assets/logo.svg alt=logo> </a> Pipelines - Run Bitbucket Pipelines Wherever They Dock </label> <div class=md-nav__source> <a href=https://github.com/ktomk/pipelines/ title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </div> <div class=md-source__repository> ktomk/pipelines </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_1 type=checkbox id=__nav_1 checked> <label class=md-nav__link for=__nav_1> Read Me <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Read Me" data-md-level=1> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Read Me </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Pipelines <span class="md-nav__icon md-icon"></span> </label> <a href=index.html class="md-nav__link md-nav__link--active"> Pipelines </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#run-bitbucket-pipelines-wherever-they-dock class=md-nav__link> Run Bitbucket Pipelines Wherever They Dock </a> </li> <li class=md-nav__item> <a href=#usage class=md-nav__link> Usage </a> <nav class=md-nav aria-label=Usage> <ul class=md-nav__list> <li class=md-nav__item> <a href=#help class=md-nav__link> Help </a> </li> <li class=md-nav__item> <a href=#usage-scenario class=md-nav__link> Usage Scenario </a> </li> <li class=md-nav__item> <a href=#features class=md-nav__link> Features </a> <nav class=md-nav aria-label=Features> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dev-mode class=md-nav__link> Dev Mode </a> </li> <li class=md-nav__item> <a href=#container-isolation class=md-nav__link> Container Isolation </a> </li> <li class=md-nav__item> <a href=#pipeline-integration class=md-nav__link> Pipeline Integration </a> </li> <li class=md-nav__item> <a href=#ready-for-offline class=md-nav__link> Ready for Offline </a> </li> <li class=md-nav__item> <a href=#services-check class=md-nav__link> Services? Check! </a> </li> <li class=md-nav__item> <a href=#default-image class=md-nav__link> Default Image </a> </li> <li class=md-nav__item> <a href=#pipelines-inside-pipeline class=md-nav__link> Pipelines inside Pipeline </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#environment class=md-nav__link> Environment </a> </li> <li class=md-nav__item> <a href=#exit-status class=md-nav__link> Exit Status </a> <nav class=md-nav aria-label="Exit Status"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example class=md-nav__link> Example </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#details class=md-nav__link> Details </a> <nav class=md-nav aria-label=Details> <ul class=md-nav__list> <li class=md-nav__item> <a href=#requirements class=md-nav__link> Requirements </a> </li> <li class=md-nav__item> <a href=#user-tests class=md-nav__link> User Tests </a> </li> <li class=md-nav__item> <a href=#known-bugs class=md-nav__link> Known Bugs </a> </li> <li class=md-nav__item> <a href=#installation class=md-nav__link> Installation </a> <nav class=md-nav aria-label=Installation> <ul class=md-nav__list> <li class=md-nav__item> <a href=#download-the-phar-php-archive-file class=md-nav__link> Download the PHAR (PHP Archive) File </a> </li> <li class=md-nav__item> <a href=#install-with-composer class=md-nav__link> Install with Composer </a> </li> <li class=md-nav__item> <a href=#install-with-phive class=md-nav__link> Install with Phive </a> </li> <li class=md-nav__item> <a href=#install-from-source class=md-nav__link> Install from Source </a> <nav class=md-nav aria-label="Install from Source"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#php-compatibility-and-undefined-behaviour class=md-nav__link> Php Compatibility and Undefined Behaviour </a> </li> <li class=md-nav__item> <a href=#reproducible-phar-builds class=md-nav__link> Reproducible Phar Builds </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#install-full-project-for-development class=md-nav__link> Install Full Project For Development </a> </li> <li class=md-nav__item> <a href=#todo class=md-nav__link> Todo </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#references class=md-nav__link> References </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=CHANGELOG.html class=md-nav__link> Change Log </a> </li> <li class=md-nav__item> <a href=COPYING.html class=md-nav__link> Copying </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2 type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2> Docs <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Docs data-md-level=1> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Docs </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=doc/PIPELINES-OFFLINE.html class=md-nav__link> Working Offline </a> </li> <li class=md-nav__item> <a href=doc/PIPELINES-CACHES.html class=md-nav__link> Working with Pipeline Caches </a> </li> <li class=md-nav__item> <a href=doc/PIPELINES-SERVICES.html class=md-nav__link> Working with Pipeline Services </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_4 type=checkbox id=__nav_2_4> <label class=md-nav__link for=__nav_2_4> Reference <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Reference data-md-level=2> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=doc/PIPELINES-VARIABLE-REFERENCE.html class=md-nav__link> Pipelines Environment Variable Usage </a> </li> <li class=md-nav__item> <a href=doc/CONFIGURATION-PARAMETERS.html class=md-nav__link> Configuration Parameters </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_5 type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5> How-To <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=How-To data-md-level=2> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> How-To </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=doc/PIPELINES-HOWTO-DOCKER-CLIENT-BINARY.html class=md-nav__link> Docker Client Binary Packages for Pipelines </a> </li> <li class=md-nav__item> <a href=doc/PIPELINES-HOWTO-ROOTLESS.html class=md-nav__link> Rootless Pipelines </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_2_6 type=checkbox id=__nav_2_6> <label class=md-nav__link for=__nav_2_6> Appendix <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Appendix data-md-level=2> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> Appendix </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=doc/DEVELOPMENT.html class=md-nav__link> Utility Development </a> </li> <li class=md-nav__item> <a href=doc/DOCKER-NAME-TAG.html class=md-nav__link> Docker Container (Image/Tag) Name Syntax </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#run-bitbucket-pipelines-wherever-they-dock class=md-nav__link> Run Bitbucket Pipelines Wherever They Dock </a> </li> <li class=md-nav__item> <a href=#usage class=md-nav__link> Usage </a> <nav class=md-nav aria-label=Usage> <ul class=md-nav__list> <li class=md-nav__item> <a href=#help class=md-nav__link> Help </a> </li> <li class=md-nav__item> <a href=#usage-scenario class=md-nav__link> Usage Scenario </a> </li> <li class=md-nav__item> <a href=#features class=md-nav__link> Features </a> <nav class=md-nav aria-label=Features> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dev-mode class=md-nav__link> Dev Mode </a> </li> <li class=md-nav__item> <a href=#container-isolation class=md-nav__link> Container Isolation </a> </li> <li class=md-nav__item> <a href=#pipeline-integration class=md-nav__link> Pipeline Integration </a> </li> <li class=md-nav__item> <a href=#ready-for-offline class=md-nav__link> Ready for Offline </a> </li> <li class=md-nav__item> <a href=#services-check class=md-nav__link> Services? Check! </a> </li> <li class=md-nav__item> <a href=#default-image class=md-nav__link> Default Image </a> </li> <li class=md-nav__item> <a href=#pipelines-inside-pipeline class=md-nav__link> Pipelines inside Pipeline </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#environment class=md-nav__link> Environment </a> </li> <li class=md-nav__item> <a href=#exit-status class=md-nav__link> Exit Status </a> <nav class=md-nav aria-label="Exit Status"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#example class=md-nav__link> Example </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#details class=md-nav__link> Details </a> <nav class=md-nav aria-label=Details> <ul class=md-nav__list> <li class=md-nav__item> <a href=#requirements class=md-nav__link> Requirements </a> </li> <li class=md-nav__item> <a href=#user-tests class=md-nav__link> User Tests </a> </li> <li class=md-nav__item> <a href=#known-bugs class=md-nav__link> Known Bugs </a> </li> <li class=md-nav__item> <a href=#installation class=md-nav__link> Installation </a> <nav class=md-nav aria-label=Installation> <ul class=md-nav__list> <li class=md-nav__item> <a href=#download-the-phar-php-archive-file class=md-nav__link> Download the PHAR (PHP Archive) File </a> </li> <li class=md-nav__item> <a href=#install-with-composer class=md-nav__link> Install with Composer </a> </li> <li class=md-nav__item> <a href=#install-with-phive class=md-nav__link> Install with Phive </a> </li> <li class=md-nav__item> <a href=#install-from-source class=md-nav__link> Install from Source </a> <nav class=md-nav aria-label="Install from Source"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#php-compatibility-and-undefined-behaviour class=md-nav__link> Php Compatibility and Undefined Behaviour </a> </li> <li class=md-nav__item> <a href=#reproducible-phar-builds class=md-nav__link> Reproducible Phar Builds </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#install-full-project-for-development class=md-nav__link> Install Full Project For Development </a> </li> <li class=md-nav__item> <a href=#todo class=md-nav__link> Todo </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#references class=md-nav__link> References </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/ktomk/pipelines/edit/master/README.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1 id=pipelines>Pipelines<a class=headerlink href=#pipelines title="Permanent link">&para;</a></h1> <h2 id=run-bitbucket-pipelines-wherever-they-dock>Run Bitbucket Pipelines Wherever They Dock<a class=headerlink href=#run-bitbucket-pipelines-wherever-they-dock title="Permanent link">&para;</a></h2> <p><a href=https://github.com/ktomk/pipelines/actions><img alt="CI Status" src=https://github.com/ktomk/run-travis-yml/workflows/CI/badge.svg></a> <a href=https://travis-ci.com/ktomk/pipelines><img alt="Build Status" src="https://api.travis-ci.com/ktomk/pipelines.svg?branch=master"></a> <a href=https://scrutinizer-ci.com/g/ktomk/pipelines/ ><img alt="Code Coverage" src="https://scrutinizer-ci.com/g/ktomk/pipelines/badges/coverage.png?b=master"></a> <a href="https://scrutinizer-ci.com/g/ktomk/pipelines/?branch=master"><img alt="Scrutinizer Code Quality" src="https://scrutinizer-ci.com/g/ktomk/pipelines/badges/quality-score.png?b=master"></a></p> <p>Command line pipeline runner written in PHP. Available from Github or Packagist.</p> <p><a href=#usage>Usage</a> | <a href=#environment>Environment</a> | <a href=#exit-status>Exit Status</a> | <a href=#details>Details</a> | <a href=#references>References</a></p> <h2 id=usage>Usage<a class=headerlink href=#usage title="Permanent link">&para;</a></h2> <p>From anywhere within a project or (Git) repository with a Bitbucket Pipeline file:</p> <div class=highlight><pre><span></span><code>$ pipelines
</code></pre></div> <p>Runs pipeline commands from <a href=https://confluence.atlassian.com/bitbucket/configure-bitbucket-pipelines-yml-792298910.html><code>bitbucket-pipelines.yml</code></a> [BBPL].</p> <p>Memory and time limits are ignored. Press <kbd>ctrl</kbd> + <kbd>c</kbd> to quit.</p> <p>The Bitbucket limit of 100 (previously 10) steps per pipeline is ignored.</p> <p>Exit status is from last pipeline script command, if a command fails the following script commands and steps are not executed.</p> <p>The default pipeline is run, if there is no default pipeline in the file, pipelines tells it and exists with non-zero status.</p> <p>To execute a different pipeline use the <code>--pipeline &lt;id&gt;</code> option where <code>&lt;id&gt;</code> is one of the list by the <code>--list</code> option. Even more information about the pipelines is available via <code>--show</code>. Both <code>--list</code> and <code>--show</code> output and exit.</p> <p>Use <code>--steps &lt;steps&gt;</code> to specify which step(s) to execute (also in which order).</p> <p>If the next pipeline step has a manual trigger, pipelines stops the execution and outputs a short message on standard error giving info about the fact. Manual triggers can be ignored with the <code>--no-manual</code> option.</p> <p>Run the pipeline as if a tag/branch or bookmark has been pushed with <code>--trigger &lt;ref&gt;</code> where <code>&lt;ref&gt;</code> is <code>tag:&lt;name&gt;</code>, <code>branch:&lt;name&gt;</code>, <code>bookmark:&lt;name&gt;</code> or <code>pr:&lt;branch-name&gt;[:&lt;destination-branch&gt;]</code>. If there is no tag, branch, bookmark or pull-request pipeline with that name, the name is compared against the patterns of the referenced type and if found, that pipeline is run.</p> <p>Otherwise the default pipeline is run, if there is no default pipeline, no pipeline at all is run and the command exits with non-zero status.</p> <p><code>--pipeline</code> and <code>--trigger</code> can be used together, <code>--pipeline</code> overrides pipeline from <code>--trigger</code> but <code>--trigger</code> still influences the container environment variables.</p> <p>To specify a different file use the <code>--basename &lt;basename&gt;</code> or <code>--file &lt;path&gt;</code> option and/or set the working directory <code>--working-dir &lt;path&gt;</code> in which the file is looked for unless an absolute path is set by <code>--file &lt;path&gt;</code>.</p> <p>By default <code>pipelines</code> operates on the current working tree which is copied into the container to isolate running the pipeline from the working directory (implicit <code>--deploy copy</code>).</p> <p>Alternatively the working directory can be mounted into the pipelines container by using <code>--deploy mount</code>.</p> <p>Use <code>--keep</code> flag to keep containers after the pipeline has finished for further inspection. By default all containers are destroyed. Sometimes for development it is interesting to keep containers on error only, the <code>--error-keep</code> flag is for that.</p> <p>In any case, if a pipeline runs again and it finds an existing container with the same name (generated by the pipeline name etc.), the existing container will be re-used. This can be very useful to re-iterate quickly.</p> <p>Manage leftover containers with <code>--docker-list</code> showing all pipeline containers, <code>--docker-kill</code> to kill running containers and <code>--docker-clean</code> to remove stopped pipeline containers. Use in combination to fully clean, e.g.:</p> <div class=codehilite><pre><span></span><code>$ pipelines --docker-list --docker-kill --docker-clean
</code></pre></div> <p>Or just run for a more shy clean-up:</p> <div class=codehilite><pre><span></span><code>$ pipelines --docker-zap
</code></pre></div> <p>to kill and remove all pipeline containers (w/o showing a list) first. "zap" is pipelines "make clean" equivalent for <code>--keep</code>.</p> <p>All containers run by <code>pipelines</code> are labeled to ease maintaining them.</p> <p>Validate your <code>bitbucket-pipelines.yml</code> file with <code>--show</code> which highlights errors found.</p> <p>For schema-validation use <code>--validate [&lt;file&gt;]</code>. Schema validation might show errors that are not an issue when executing a pipeline (<code>--show</code> and/or <code>--dry-run</code> is better for that) but validates against a schema which is aligned with the one that Atlassian/ Bitbucket provides (the schema is more lax compared to upstream for the cases known to offer a better practical experience). E.g. use it for checks in your CI pipeline or linting files before push in a pre-commit hook or your local build.</p> <p>Inspect your pipeline with <code>--dry-run</code> which will process the pipeline but not execute anything. Combine with <code>-v</code> (, <code>--verbose</code>) to show the commands which would have run verbatim which allows to better understand how <code>pipelines</code> actually works. Nothing to hide here.</p> <p>Use <code>--no-run</code> to not run the pipeline at all, this can be used to test the utilities' options.</p> <p>Pipeline environment variables can be passed/exported to or set for your pipeline by name or file with <code>-e</code>, <code>--env</code> and <code>--env-file</code> options.</p> <p>Environment variables are also loaded from dot env files named <code>.env.dist</code> and <code>.env</code> and processed in that order before the environment options. Use of <code>--no-dot-env-files</code> prevents automatic loading, <code>--no-dot-env-dot-dist</code> for the <code>.env.dist</code> file only.</p> <p>More information on pipelines environment variables in the <a href=#environment><em>environment</em> section</a> below.</p> <h3 id=help>Help<a class=headerlink href=#help title="Permanent link">&para;</a></h3> <p>A full display of the pipelines utility options and arguments is available via <code>-h</code>, <code>--help</code>:</p> <div class=highlight><pre><span></span><code>usage: pipelines [&lt;options&gt;] --version | -h | --help
       pipelines [&lt;options&gt;] [--working-dir &lt;path&gt;] [--file &lt;path&gt;]
                 [--basename &lt;basename&gt;] [--prefix &lt;prefix&gt;]
                 [--verbatim] [--[no-|error-]keep] [--no-run]
                 [(-e | --env) &lt;variable&gt;] [--env-file &lt;path&gt;]
                 [--no-dot-env-files] [--no-dot-env-dot-dist]
                 [--docker-client &lt;package&gt;] [--ssh]
                 [--user[=&lt;name|uid&gt;[:&lt;group|gid&gt;]]]
                 [--deploy mount | copy ] [--pipeline &lt;id&gt;]
                 [(--step | --steps) &lt;steps&gt;] [--no-manual]
                 [--trigger &lt;ref&gt;] [--no-cache]
       pipelines [&lt;options&gt;] --service &lt;service&gt;
       pipelines [&lt;options&gt;] --list | --show | --images
                 | --show-pipelines | --show-services
                 | --step-script[=(&lt;id&gt; | &lt;step&gt;[:&lt;id&gt;])]
                 | --validate[=&lt;path&gt;]
       pipelines [&lt;options&gt;] --docker-client-pkgs
       pipelines [&lt;options&gt;] [--docker-list] [--docker-kill]
                 [--docker-clean] [--docker-zap]

Generic options
    -h, --help            show usage and help information
    --version             show version information
    -v, --verbose         be more verbose, show more information and
                          commands to be executed
    --dry-run             do not execute commands, e.g. invoke docker or
                          run containers, with --verbose show the
                          commands that would have run w/o --dry-run
    -c &lt;name&gt;=&lt;value&gt;     pass a configuration parameter to the command

Pipeline runner options
    --basename &lt;basename&gt; set basename for pipelines file, defaults to
                          &#39;bitbucket-pipelines.yml&#39;
    --deploy mount|copy   how files from the working directory are
                          placed into the pipeline container:
                          copy     (default) working dir is copied into
                                 the container. stronger isolation as
                                 the pipeline scripts can change all
                                 files without side-effects in the
                                 working directory
                          mount    the working directory is mounted.
                                 fastest, no isolation
    --file &lt;path&gt;         path to the pipelines file, overrides looking
                          up the &lt;basename&gt; file from the current
                          working directory, use &#39;-&#39; to read from stdin
    --trigger &lt;ref&gt;       build trigger; &lt;ref&gt; can be either of:
                          tag:&lt;name&gt;, branch:&lt;name&gt;, bookmark:&lt;name&gt; or
                          pr:&lt;branch-name&gt;[:&lt;destination-branch&gt;]
                          determines the pipeline to run
    --pipeline &lt;id&gt;       run pipeline with &lt;id&gt;, use --list for a list
                          of all pipeline ids available. overrides
                          --trigger for the pipeline while keeping
                          environment from --trigger.
    --step, --steps &lt;steps&gt;
                          execute not all but this/these &lt;steps&gt;. all
                          duplicates and orderings allowed, &lt;steps&gt; are
                          a comma/space separated list of step and step
                          ranges, e.g. 1 2 3; 1-3; 1,2-3; 3-1 or -1,3-
                          and 1,1,3,3,2,2
    --no-manual           ignore manual steps, by default manual steps
                          stop the pipeline execution when not the first
                          step in invocation of a pipeline
    --verbatim            only give verbatim output of the pipeline, do
                          not display other information like which step
                          currently executes, which image is in use ...
    --working-dir &lt;path&gt;  run as if pipelines was started in &lt;path&gt;
    --no-run              do not run the pipeline
    --prefix &lt;prefix&gt;     use a different prefix for container names,
                          default is &#39;pipelines&#39;
    --no-cache            disable step caches; docker always caches

File information options
    --images              list all images in file, in order of use, w/o
                          duplicate names and exit
    --list                list pipeline &lt;id&gt;s in file and exit
    --show                show information about pipelines in file and
                          exit
    --show-pipelines      same as --show but with old --show output
                          format without services and images / steps are
                          summarized - one line for each pipeline
    --show-services       show all defined services in use by pipeline
                          steps and exit
    --validate[=&lt;path&gt;]   schema-validate file, shows errors if any,
                          exits; can be used more than once, exit status
                          is non-zero on error
    --step-script[=(&lt;id&gt; | &lt;step&gt;[:&lt;id&gt;])]
                          write the step-script of pipeline &lt;id&gt; and
                          &lt;step&gt; to standard output and exit

Environment control options
    -e, --env &lt;variable&gt;  pass or set an environment &lt;variable&gt; for the
                          docker container, just like a docker run,
                          &lt;variable&gt; can be the name of a variable which
                          adds the variable to the container as export
                          or a variable definition with the name of the
                          variable, the equal sign &quot;=&quot; and the value,
                          e.g. --env NAME=&lt;value&gt;
    --env-file &lt;path&gt;     pass variables from environment file to the
                          docker container
    --no-dot-env-files    do not pass .env.dist and .env files as
                          environment files to docker
    --no-dot-env-dot-dist dot not pass .env.dist as environment file to
                          docker only

Keep options
    --keep                always keep docker containers
    --error-keep          keep docker containers if a step failed;
                          outputs non-zero exit status and the id of the
                          container kept and exit w/ container exec exit
                          status
    --no-keep             do not keep docker containers; default

Container runner options
    --ssh                 ssh agent forwarding: if $SSH_AUTH_SOCK is set
                          and accessible, mount SSH authentication
                          socket read only and set SSH_AUTH_SOCK in the
                          pipeline step container to the mount point.
    --user[=&lt;name|uid&gt;[:&lt;group|gid&gt;]]
                          run pipeline step container as current or
                          given &lt;user&gt;/&lt;group&gt;; overrides container
                          default &lt;user&gt; - often root, (better) run
                          rootless by default.

Service runner options
    --service &lt;service&gt;   runs &lt;service&gt; attached to the current shell
                          and waits until the service exits, exit status
                          is the one of the docker run service
                          container; for testing services, run in a
                          shell of its own or background

Docker service options
    --docker-client &lt;package&gt;
                          which docker client binary to use for the
                          pipeline service &#39;docker&#39; defaults to the
                          &#39;docker-19.03.1-linux-static-x86_64&#39; package
    --docker-client-pkgs  list all docker client packages that ship with
                          pipelines and exit

Docker container maintenance options
      usage might leave containers on the system. either by interrupting
      a running pipeline step or by keeping the running containers
      (--keep, --error-keep)

      pipelines uses a &lt;prefix&gt; &#39;pipelines&#39; by default, followed by &#39;-&#39;
      and a compound name based on step-number, step-name, pipeline id
      and image name for container names. the prefix can be set by the
      --prefix &lt;prefix&gt; option and argument.

      three options are built-in to monitor and interact with leftovers,
      if one or more of these are given, the following operations are
      executed in the order from top to down:
    --docker-list         list prefixed containers
    --docker-kill         kills prefixed containers
    --docker-clean        remove (non-running) containers with
                          pipelines prefix

      for ease of use:
    --docker-zap          kill and remove all prefixed containers at
                          once; no show/listing

Less common options
    --debug               flag for trouble-shooting (fatal) errors,
                          warnings, notices and strict warnings; useful
                          for trouble-shooting and bug-reports
</code></pre></div> <h3 id=usage-scenario>Usage Scenario<a class=headerlink href=#usage-scenario title="Permanent link">&para;</a></h3> <p>Give your project and pipeline changes a quick test run from the staging area. As pipelines are normally executed far away, setting them up becomes cumbersome, the guide given in <a href=https://confluence.atlassian.com/bitbucket/debug-your-pipelines-locally-with-docker-838273569.html>Bitbucket Pipelines documentation</a> [BBPL-LOCAL-RUN] has some hints and is of help, but it is not about a bitbucket pipelines runner.</p> <p>This is where the <code>pipelines</code> command jumps in.</p> <p>The <code>pipelines</code> command closes the gap between local development and remote pipeline execution by executing any pipeline configured on your local development box. As long as Docker is accessible locally, the <code>bitbucket-pipelines.yml</code> file is parsed and it is taken care of to execute all steps and their commands within the container of choice.</p> <p>Pipelines YAML file parsing, container creation and script execution is done as closely as possible compared to the Atlassian Bitbucket Pipeline service. Environment variables can be passed into each pipeline as needed. You can even switch to a different CI/CD service like Github/Travis with little integration work fostering your agility and vendor independence.</p> <h3 id=features>Features<a class=headerlink href=#features title="Permanent link">&para;</a></h3> <p>Features include:</p> <h4 id=dev-mode>Dev Mode<a class=headerlink href=#dev-mode title="Permanent link">&para;</a></h4> <p>Pipeline from your working tree like never before. Pretend to be on any branch, tag or bookmark (<code>--trigger</code>) even in a different repository or none at all.</p> <p>Check if the reference matches a pipeline or just run the default (default) or a specific one (<code>--list</code>, <code>--pipeline</code>). Use a different pipelines file (<code>--file</code>) or swap the "repository" by changing the working directory (<code>--working-dir &lt;path&gt;</code>).</p> <p>If a pipeline step fails, the steps container can be kept for further inspection on error with the <code>--error-keep</code> option. The container id is shown then which makes it easy to spawn a shell inside:</p> <div class=highlight><pre><span></span><code>$ docker <span class=nb>exec</span> -it <span class=nv>$ID</span> /bin/sh
</code></pre></div> <p>Containers can be always kept for debugging and manual testing of a pipeline with <code>--keep</code> and with the said <code>--error-keep</code> on error only. Kept containers are re-used by their name regardless of any <code>--keep</code> (, <code>--error-keep</code>) option.</p> <p>Continue on a (failed) step with the <code>--steps &lt;steps&gt;</code> argument, the <code>&lt;steps&gt;</code> option can be any step number or sequence (<code>1-3</code>), separate multiple with comma (<code>3-,1-2</code>), you can even repeat steps or reverse order (<code>4,3,2,1</code>).</p> <p>For example, if the second step failed, continue with use of <code>--steps 2-</code> to re-run the second and all following steps (<code>--steps 2</code> or <code>--step 2</code> will run only the next step; to do a step-by-step approach).</p> <p>Afterwards manage left overs with <code>--docker-list|kill|clean</code> or clean up with <code>--docker-zap</code>.</p> <p>Debugging options to dream for; benefit from the local build, the pipeline container.</p> <h4 id=container-isolation>Container Isolation<a class=headerlink href=#container-isolation title="Permanent link">&para;</a></h4> <p>There is one container per step, like it is on Bitbucket.</p> <p>Files are isolated by being copied into the container before the pipeline step script is executed (implicit <code>--deploy copy</code>).</p> <p>Alternatively files can be mounted into the container instead with <code>--deploy mount</code> which normally is faster on Linux, but the working tree might become changed by the container script which causes side-effect that may be unwanted. Docker runs system-wide and containers do not isolate users (e.g. root is root).</p> <p>Better with <code>--deploy mount</code> (and peace of mind) is using Docker in rootless mode where files manipulated in the pipeline container are accessible to the own user account (like root is your user automatically mapped).</p> <ul> <li>Further reading: <a href=doc/PIPELINES-HOWTO-ROOTLESS.html><em>How-To Rootless Pipelines</em></a></li> </ul> <h4 id=pipeline-integration>Pipeline Integration<a class=headerlink href=#pipeline-integration title="Permanent link">&para;</a></h4> <p>Export files from the pipeline by making use of artifacts, these are copied back into the working tree while in (implicit) <code>--deploy copy</code> mode. Artifacts' files are always created by the user running pipelines. This also (near) perfectly emulates the file format <code>artifacts</code> section with the benefit/downside that you might want to prepare a clean build in a pipeline step script while you can keep artifacts from pipelines locally. This is a trade-off that has turned out to be acceptable over the years.</p> <p>wrap <code>pipelines</code> in a script for clean checkouts or wait for future options to stage first (<em>git-deployment</em> feature). In any case, control your build first of all.</p> <h4 id=ready-for-offline>Ready for Offline<a class=headerlink href=#ready-for-offline title="Permanent link">&para;</a></h4> <p>On the plane? Riding Deutsche Bahn? Or just a rainy day on a remote location with broken net? Coding while abroad? Or just Bitbucket down again?</p> <p>Before going into offline mode, read about <a href=doc/PIPELINES-OFFLINE.html><em>Working Offline</em></a> you'll love it.</p> <h4 id=services-check>Services? Check!<a class=headerlink href=#services-check title="Permanent link">&para;</a></h4> <p>The local pipeline runner runs service containers on your local box/system (that is your pipelines' host). This is similar to <a href=https://confluence.atlassian.com/bitbucket/use-services-and-databases-in-bitbucket-pipelines-874786688.html>use services and databases in Bitbucket Pipelines</a> [BBPL-SRV].</p> <p>Even before any pipeline step makes use of a service, a service definition can already be tested with the <code>--service</code> option turning setting up services in pipelines into a new experience. A good way to test service definitions and to get an impression on additional resources being consumed.</p> <ul> <li>Further reading: <a href=doc/PIPELINES-SERVICES.html><em>Working with Pipeline Services</em></a></li> </ul> <h4 id=default-image>Default Image<a class=headerlink href=#default-image title="Permanent link">&para;</a></h4> <p>The pipelines command uses the default image like Bitbucket Pipelines does ("<code>atlassian/default-image</code>"). Get started out of the box, but keep in mind it has roughly 1.4 GB.</p> <h4 id=pipelines-inside-pipeline>Pipelines inside Pipeline<a class=headerlink href=#pipelines-inside-pipeline title="Permanent link">&para;</a></h4> <p>As a special feature and by default pipelines mounts the docker socket into each container (on systems where the socket is available). This allows to launch pipelines from a pipeline as long as <code>pipelines</code> and the Docker client is available in the pipelines' container. <code>pipelines</code> will take care of the Docker client as <code>/usr/bin/docker</code> as long as the pipeline has the <code>docker</code> service (<code>services: \n - docker</code>).</p> <p>This feature is similar to <a href=https://confluence.atlassian.com/bitbucket/run-docker-commands-in-bitbucket-pipelines-879254331.html>run Docker commands in Bitbucket Pipelines</a> [BBPL-DCK].</p> <p>The pipelines inside pipeline feature serves <code>pipelines</code> itself well for integration testing the projects build. In combination with <code>--deploy mount</code>, the original working-directory is mounted from the host (again). Additional protection against endless loops by recursion is implemented to prevent accidental pipelines inside pipeline invocations that would be endlessly on-going.</p> <ul> <li>Further reading: <a href=doc/PIPELINES-HOWTO-DOCKER-CLIENT-BINARY.html><em>How-To Docker Client Binary Packages for Pipelines</em></a></li> </ul> <h2 id=environment>Environment<a class=headerlink href=#environment title="Permanent link">&para;</a></h2> <p>Pipelines mimics "all" of the <a href=https://confluence.atlassian.com/bitbucket/environment-variables-794502608.html>Bitbucket Pipeline in-container environment variables</a> [BBPL-ENV], also known as environment parameters:</p> <ul> <li><code>BITBUCKET_BOOKMARK</code> - conditionally set by <code>--trigger</code></li> <li><code>BITBUCKET_BUILD_NUMBER</code> - always set to "<code>0</code>"</li> <li><code>BITBUCKET_BRANCH</code> - conditionally set by <code>--trigger</code></li> <li><code>BITBUCKET_CLONE_DIR</code> - always set to deploy point in container</li> <li><code>BITBUCKET_COMMIT</code> - faux as no revision triggers a build; always set to "<code>0000000000000000000000000000000000000000</code>"</li> <li><code>BITBUCKET_REPO_OWNER</code> - current username from environment or if not available "<code>nobody</code>"</li> <li><code>BITBUCKET_REPO_SLUG</code> - base name of project directory</li> <li><code>BITBUCKET_TAG</code> - conditionally set by <code>--trigger</code></li> <li><code>CI</code> - always set to "<code>true</code>"</li> </ul> <p>All of these (but not <code>BITBUCKET_CLONE_DIR</code>) can be set within the environment pipelines runs in and are taken over into container environment. Example:</p> <div class=codehilite><pre><span></span><code>$ BITBUCKET_BUILD_NUMBER=123 pipelines # build no. 123
</code></pre></div> <p>More information on (Bitbucket) pipelines environment variables can be found in the <a href=doc/PIPELINES-VARIABLE-REFERENCE.html><em>Pipelines Environment Variable Usage Reference</em></a>.</p> <p>Additionally pipelines sets some environment variables for introspection:</p> <ul> <li><code>PIPELINES_CONTAINER_NAME</code> - name of the container itself</li> <li><code>PIPELINES_ID</code> - <code>&lt;id&gt;</code> of the pipeline that currently runs</li> <li><code>PIPELINES_IDS</code> - list of space separated md5 hashes of so far running <code>&lt;id&gt;</code>s. used to detect pipelines inside pipeline recursion, preventing execution until system failure.</li> <li><code>PIPELINES_PARENT_CONTAINER_NAME</code> - name of the container name if it was already set when the pipeline started (pipelines inside pipeline "pip").</li> <li><code>PIPELINES_PIP_CONTAINER_NAME</code> - name of the first (initial) pipeline container. Used by pipelines inside pipelines ("pip").</li> <li><code>PIPELINES_PROJECT_PATH</code> - path of the original project as if it would be used for <code>--deploy</code> with <code>copy</code> or <code>mount</code> so that it is possible inside a pipeline to do <code>--deploy mount</code> when the current container did not mount. A mount always requires the path of the project directory on the system running pipelines. With no existing mount (e.g. <code>--deploy copy</code>) it would otherwise be unknown. Manipulating this parameter within a pipeline leads to undefined behaviour and can have system security implications.</li> </ul> <p>These environment variables are managed by pipelines itself. Some of them can be injected which can lead to undefined behaviour and can have system security implications as well.</p> <p>Next to these special purpose environment variables, any other environment variable can be imported into or set in the container via the <code>-e</code>, <code>--env</code> and <code>--env-file</code> options. These behave exactly as documented for the <a href=https://docs.docker.com/engine/reference/commandline/run/ ><code>docker run</code> command</a> [DCK-RN].</p> <p>Instead of specifying custom environment parameters for each invocation, pipelines by default automatically uses the <code>.env.dist</code> and <code>.env</code> files from each project supporting the same file-format for environment variables as docker.</p> <h2 id=exit-status>Exit Status<a class=headerlink href=#exit-status title="Permanent link">&para;</a></h2> <p>Exit status on success is 0 (zero).</p> <p>A non zero exit status denotes an error:</p> <ul> <li>1 : An argument supplied (also a missing one) caused the error.</li> <li>2 : An error is caused by the system not being able to fulfill the command (e.g. a file could not be read).</li> <li>127: Running pipelines inside pipelines failed detecting an endless loop.</li> </ul> <h3 id=example>Example<a class=headerlink href=#example title="Permanent link">&para;</a></h3> <p>Not finding a file might cause exit status 2 (two) on error because a file is not found, however with a switch like <code>--show</code> the exit status might still be 1 (one) as there was an error showing that the file does not exists (indirectly) and the error is more prominently showing all pipelines of that file.</p> <h2 id=details>Details<a class=headerlink href=#details title="Permanent link">&para;</a></h2> <p><a href=#requirements>Requirements</a> | <a href=#user-tests>User Tests</a> | <a href=#installation>Installation</a> | <a href=#known-bugs>Known Bugs</a> | <a href=#todo>Todo</a></p> <h3 id=requirements>Requirements<a class=headerlink href=#requirements title="Permanent link">&para;</a></h3> <p>Pipelines works best on a POSIX compatible system having a PHP runtime.</p> <p>Docker needs to be available locally as <code>docker</code> command as it is used to run the pipelines. Rootless Docker is supported.</p> <p>A recent PHP version is favored, the <code>pipelines</code> command needs PHP to run. It should work with PHP 5.3.3+. A development environment should be PHP 7+, this is especially suggested for future releases. PHP 8+ is supported as well.</p> <p>Installing the <a href=https://pecl.php.net/package/yaml>PHP YAML extension</a> [PHP-YAML] is highly recommended as it does greatly improve parsing the pipelines file which is otherwise with a YAML parser on it's own as a fall-back and is not bad at all. There are subtle differences between these parsers, so why not have both at hand?</p> <h3 id=user-tests>User Tests<a class=headerlink href=#user-tests title="Permanent link">&para;</a></h3> <p>Successful use on Ubuntu 16.04 LTS, Ubuntu 18.04 LTS and Mac OS X Sierra and High Sierra with PHP and Docker installed.</p> <h3 id=known-bugs>Known Bugs<a class=headerlink href=#known-bugs title="Permanent link">&para;</a></h3> <ul> <li> <p>The command "<code>:</code>" in pipelines exec layer is never really executed but emulated having exit status 0 and no standard or error output. It is intended for pipelines testing.</p> </li> <li> <p>Brace expansion (used for glob patterns with braces) is known to fail in some cases. This <em>could</em> affect matching pipelines, collecting asset paths and <em>did</em> affect building the phar file. \ For the first two, this has <em>never</em> been reported nor experienced, for building the phar file the workaround was to entail the larger parts of the pattern.</p> </li> <li> <p>The libyaml based parser does not support dots ("<code>.</code>") in anchor names.</p> </li> <li> <p>The libyaml based parser does not support <em>folded scalar</em> ("<code>&gt;</code>") as <em>block style indicator</em>. Suggested workaround is to use <em>literal style</em> ("<code>|</code>").</p> </li> <li> <p>NUL bytes ("<code>\0</code>") are not supported verbatim in step-scripts due to defense-in-depth protection on <code>passthru</code> in the PHP-runtime to prevent <em>Null character</em> injection.</p> </li> </ul> <h3 id=installation>Installation<a class=headerlink href=#installation title="Permanent link">&para;</a></h3> <p><a href=#download-the-phar-php-archive-file>Phar (Download)</a> | <a href=#install-with-composer>Composer</a> | <a href=#install-with-phive>Phive</a> | <a href=#install-from-source>Source (also w/ Phar)</a> | <a href=#install-full-project-for-development>Full Project (Development)</a></p> <p>Installation is available by downloading the phar archive from Github, via Composer/Packagist or with Phive and it should always work from source which includes building the phar file.</p> <h4 id=download-the-phar-php-archive-file>Download the PHAR (PHP Archive) File<a class=headerlink href=#download-the-phar-php-archive-file title="Permanent link">&para;</a></h4> <p>Downloads are available on Github. To obtain the latest released version, use the following URL:</p> <div class=codehilite><pre><span></span><code>https://github.com/ktomk/pipelines/releases/latest/download/pipelines.phar
</code></pre></div> <p>Rename the phar file to just "<code>pipelines</code>", set the executable bit and move it into a directory where executables are found.</p> <p>Downloads from Github are available since version 0.0.4. All releases are listed on the following website:</p> <div class=codehilite><pre><span></span><code>https://github.com/ktomk/pipelines/releases
</code></pre></div> <h4 id=install-with-composer>Install with Composer<a class=headerlink href=#install-with-composer title="Permanent link">&para;</a></h4> <p>Suggested is to install it globally (and to have the global composer vendor/bin in $PATH) so that it can be called with ease and there are no dependencies in a local project:</p> <div class=codehilite><pre><span></span><code>$ composer global require ktomk/pipelines
</code></pre></div> <p>This will automatically install the latest available version. Verify the installation by invoking pipelines and output the version:</p> <div class=codehilite><pre><span></span><code>$ pipelines --version
pipelines version 0.0.19
</code></pre></div> <p>To uninstall remove the package:</p> <div class=codehilite><pre><span></span><code>$ composer global remove ktomk/pipelines
</code></pre></div> <p>Take a look at <a href=https://getcomposer.org/ >Composer from <em><code>getcomposer.org</code></em></a> [COMPOSER], a <em>Dependency Manager for PHP</em>. Pipelines has support for composer based installations, which might include upstream patches (composer 2 is supported, incl. upstream patches).</p> <h4 id=install-with-phive>Install with Phive<a class=headerlink href=#install-with-phive title="Permanent link">&para;</a></h4> <p>Perhaps the most easy way to install when <em>phive</em> is available:</p> <div class=codehilite><pre><span></span><code>$ phive install pipelines
</code></pre></div> <p>Even if your PHP version does not have the Yaml extension this should work out of the box. If you use <em>composer</em> and you're a PHP aficionado, dig into <em>phive</em> for your systems and workflow.</p> <p>Take a look at <a href=https://phar.io/ >Phive from <em><code>phar.io</code></em></a> [PHARIO], the <em>PHAR Installation and Verification Environment (PHIVE)</em>. Pipelines has full support for phar.io/phar based installations which includes support for the <em>phive</em> utility including upstream patches.</p> <h4 id=install-from-source>Install from Source<a class=headerlink href=#install-from-source title="Permanent link">&para;</a></h4> <p>To install from source, checkout the source repository and symlink the executable file <code>bin/pipelines</code> into a segment of $PATH, e.g. your $HOME/bin directory or similar. Verify the installation by invoking pipelines and output the version:</p> <div class=codehilite><pre><span></span><code>$ pipelines --version
pipelines version 0.0.19 # NOTE: the version is exemplary
</code></pre></div> <p>To create a phar archive from sources, invoke from within the projects root directory the build script:</p> <div class=codehilite><pre><span></span><code>$ composer build
building 0.0.19-1-gbba5a43 ...
pipelines version 0.0.19-1-gbba5a43
file.....: build/pipelines.phar
size.....: 240 191 bytes
SHA-1....: 9F118A276FC755C21EA548A77A9DBAF769B93524
SHA-256..: 0C38CBBB12E10E80F37ECA5C4C335BF87111AC8E8D0490D38683BB3DA7E82DEF
file.....: 1.1.0
api......: 1.1.1
extension: 2.0.2
php......: 7.2.16-[...]
uname....: [...]
count....: 62 file(s)
signature: SHA-1 E638E7B56FAAD7171AE9838DF6074714630BD486
</code></pre></div> <p>The phar archive then is (as written in the output of the build):</p> <div class=codehilite><pre><span></span><code>build/pipelines.phar
</code></pre></div> <p>Check the version by invoking it:</p> <div class=codehilite><pre><span></span><code>$ build/pipelines.phar --version
pipelines version 0.0.19-1-gbba5a43
# NOTE: the version is exemplary
</code></pre></div> <h5 id=php-compatibility-and-undefined-behaviour>Php Compatibility and Undefined Behaviour<a class=headerlink href=#php-compatibility-and-undefined-behaviour title="Permanent link">&para;</a></h5> <p>The pipelines project aims to support php 5.3.3 up to php 8.0.</p> <p>Using any of its PHP functions or methods with named parameters falls into undefined behaviour.</p> <h5 id=reproducible-phar-builds>Reproducible Phar Builds<a class=headerlink href=#reproducible-phar-builds title="Permanent link">&para;</a></h5> <p>The pipelines project practices reproducible builds since it's first phar build. The build is self-contained, which means that the repository ships with all required files to build with only little dependencies:</p> <ul> <li>PHP (not 5.3+ but 5.4+ due to less portable code in <a href=lib/build/build.php><code>build.php</code></a> / <a href=src/PharBuild/Builder.php><code>Builder.php</code></a>)</li> <li>Composer</li> <li>Git</li> </ul> <p>Reproducible builds of the phar file would be incomplete without the fine work from the composer projects <code>phar-utils</code> (Seldaek/Jordi Boggiano) which is forked by the pipelines project in <a href=src/PharBuild/Timestamps.php><code>Timestamps.php</code> </a> by keeping the original license with the file (MIT), providing bug-fixes to upstream under that license (see <a href=https://github.com/Seldaek/phar-utils/pull/2>Phar-Utils #2</a> and <a href=https://github.com/Seldaek/phar-utils/pull/3>Phar-Utils #3</a>).</p> <p>This file is used to set the timestamps inside the phar file to that of the release as otherwise those would be at the time of build. This is the same as the Composer project does (see <a href=https://github.com/composer/composer/issues/3927>Composer #3927</a>).</p> <p>Additionally in the pipelines project that file is used to change the access permissions of the files in the phar. That is because across PHP versions the behaviour has changed so the build is kept backwards and forwards compatible. As this has been noticed later in the projects' history, the build might show different binaries depending on which PHP version is used (see <a href="https://bugs.php.net/bug.php?id=77022">PHP #77022</a> and <a href="https://bugs.php.net/bug.php?id=79082">PHP #79082</a>) and the patch state of the timestamps file.</p> <h3 id=install-full-project-for-development>Install Full Project For Development<a class=headerlink href=#install-full-project-for-development title="Permanent link">&para;</a></h3> <p>When working with <code>git</code>, clone the repository and then invoke <code>composer install</code>. The project is setup for development then.</p> <p>Alternatively it's possible to do the same via composer directly:</p> <div class=highlight><pre><span></span><code>$ composer create-project --prefer-source --keep-vcs ktomk/pipelines
...
$ cd pipelines
</code></pre></div> <p>Verify the installation by invoking the local build:</p> <div class=highlight><pre><span></span><code>$ composer ci
</code></pre></div> <p>Should exit with status <code>0</code> when it went fine, non <code>0</code> when there is an issue. Composer tells which individual script did fail.</p> <p>Follow the instructions in <a href=#install-from-source><em>Install from Source</em></a> to use the development version for <code>pipelines</code>.</p> <h3 id=todo>Todo<a class=headerlink href=#todo title="Permanent link">&para;</a></h3> <ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> Support for private Docker repositories</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> Inject docker client if docker service is enabled</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> Run specific steps of a pipeline (only) to put the user back into command on errors w/o re-running everything</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> Stop at manual steps (<code>--no-manual</code> to override)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> Support BITBUCKET_PR_DESTINATION_BRANCH with <code>--trigger pr:&lt;source&gt;:&lt;destination&gt;</code></li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> Pipeline services</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> Run as current user with <code>--user</code> (<code>--deploy mount</code> should not enforce the container default user [often "root"] for project file operations any longer), however the Docker utility still requires you (the current user) to be root like, so technically there is little win (see <a href=doc/PIPELINES-HOWTO-ROOTLESS.html>Rootless Pipelines</a> for what works better in this regard)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> Have caches on a per-project basis</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> Copy local composer cache into container for better (offline) usage in PHP projects (see <a href=doc/PIPELINES-CACHES.html#populate-caches>Populate Caches</a>)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Support for <code>BITBUCKET_DOCKER_HOST_INTERNAL</code> environment variable / host.docker.internal hostname within pipelines</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Count <code>BITBUCKET_BUILD_NUMBER</code> on a per project basis (<em>build-number</em> feature)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Option to <em>not</em> mount docker.sock</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Limit projects' paths below <code>$HOME</code>, excluding dot <code>.</code> directory children.</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> More accessible offline preparation (e.g. <code>--docker-pull-images</code>, <code>--go-offline</code> or similar)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Check Docker existence before running a pipeline</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Pipes support (<em>pipe</em> feature)<ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> Show scripts with pipe/s</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> Fake run script with pipe/s showing information</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Create test/demo pipe</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Run script with pipe/s</li> </ul> </li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Write about differences from Bitbucket Pipelines</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Write about the file format support/limitations</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Pipeline file properties support:<ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> step.trigger (<code>--steps</code> / <code>--no-manual</code> options)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> step.caches (to disable use <code>--no-cache</code> option)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> clone (<em>git-deployment</em> feature)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> definitions<ul class=task-list> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> services (<em>services</em> feature)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> caches (<em>caches</em> feature)</li> </ul> </li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> max-time (never needed this for local run)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> size (likely neglected for local run, limited support for <a href=doc/PIPELINES-HOWTO-ROOTLESS.html>Rootless Pipelines</a>)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled checked><span class=task-list-indicator></span></label> step.after-script (<em>after-script</em> feature)</li> </ul> </li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Get VCS revision from working directory (<em>git-deployment</em> feature)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Use a different project directory <code>--project-dir &lt;path&gt;</code> to specify the root path to deploy into the container, which currently is the working directory (<code>--working-dir &lt;path&gt;</code> works already)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Run on a specific revision, reference it (<code>--revision &lt;ref&gt;</code>); needs a clean VCS checkout into a temporary folder which then should be copied into the container (<em>git-deployment</em> feature)</li> <li class=task-list-item><label class=task-list-control><input type=checkbox disabled><span class=task-list-indicator></span></label> Override the default image name (<code>--default-image &lt;name&gt;</code>; never needed this for local run)</li> </ul> <h2 id=references>References<a class=headerlink href=#references title="Permanent link">&para;</a></h2> <ul> <li>[BBPL]: <a href=https://confluence.atlassian.com/bitbucket/configure-bitbucket-pipelines-yml-792298910.html>https://confluence.atlassian.com/bitbucket/configure-bitbucket-pipelines-yml-792298910.html</a></li> <li>[BBPL-ENV]: <a href=https://confluence.atlassian.com/bitbucket/environment-variables-794502608.html>https://confluence.atlassian.com/bitbucket/environment-variables-794502608.html</a></li> <li>[BBPL-LOCAL-RUN]: <a href=https://confluence.atlassian.com/bitbucket/debug-your-pipelines-locally-with-docker-838273569.html>https://confluence.atlassian.com/bitbucket/debug-your-pipelines-locally-with-docker-838273569.html</a></li> <li>[BBPL-DCK]: <a href=https://confluence.atlassian.com/bitbucket/run-docker-commands-in-bitbucket-pipelines-879254331.html>https://confluence.atlassian.com/bitbucket/run-docker-commands-in-bitbucket-pipelines-879254331.html</a></li> <li>[BBPL-SRV]: <a href=https://confluence.atlassian.com/bitbucket/use-services-and-databases-in-bitbucket-pipelines-874786688.html>https://confluence.atlassian.com/bitbucket/use-services-and-databases-in-bitbucket-pipelines-874786688.html</a></li> <li>[COMPOSER]: <a href=https://getcomposer.org/ >https://getcomposer.org/</a></li> <li>[DCK-RN]: <a href=https://docs.docker.com/engine/reference/commandline/run/ >https://docs.docker.com/engine/reference/commandline/run/</a></li> <li>[PHARIO]: <a href=https://phar.io/ >https://phar.io/</a></li> <li>[PHP-YAML]: <a href=https://pecl.php.net/package/yaml>https://pecl.php.net/package/yaml</a></li> </ul> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=CHANGELOG.html class="md-footer__link md-footer__link--next" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Next </span> Change Log </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made by <a href=https://ktomk.github.io/ title="Ktomk home on Github Pages"> Ktomk on Github.io </a> </div> <div class=md-footer-social> <a href=https://ktomk.github.io/pipelines/ target=_blank rel=noopener title="Pipelines homepage" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 96 96"> <path d="m 48.001503,8 c -3.067868,0 -6.135869,1.17553 -8.486698,3.52617 L 11.526141,39.51326 c -4.7015212,4.70127 -4.7015212,12.27021 0,16.97135 l 17.024333,17.02351 9.563268,-29.42914 a 6.6334399,6.6329078 0 0 1 0.151061,-0.49991 6.6334399,6.6329078 0 0 1 0.169254,-0.48603 L 49.792552,8.13582 C 49.199219,8.04692 48.600226,8 48.001503,8 Z m 13.110599,8.14969 -5.941417,18.28527 h 24.228283 z m -9.951098,31.52579 a 6.6334399,6.6329078 0 0 1 -0.284874,0.0135 6.6334399,6.6329078 0 0 1 -0.169255,0.4847 l -11.647547,35.84504 0.455477,0.45544 c 4.701656,4.70116 12.271874,4.70116 16.973395,0 L 84.477538,56.48694 c 2.433434,-2.43311 3.60366,-5.63438 3.518089,-8.80901 z"/> </svg> </a> <a href=https://github.com/ktomk/pipelines target=_blank rel=noopener title="Pipelines utility Github repository" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://hub.docker.com/r/ktomk/pipelines target=_blank rel=noopener title="Pipelines test container images on Docker Hub" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> <a href=https://ktomk.github.io/ target=_blank rel=noopener title=ktomk.github.io class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><path d="m278.9 511.5-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2 43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6 144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"/></svg> </a> <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener title="Made with Material for MkDocs + Mkdocs + Makefile + <3" class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"> <path d=M3.136,17.387l0,42.932l42.932,21.467l-42.932,-64.399Z /> <path d=M21.91,8l42.933,64.398l-18.775,9.388l-42.932,-64.399l18.774,-9.387Z style="fill-opacity: 0.5"/> <path d=M67.535,17.387l-27.262,18.156l21.878,32.818l5.384,2.691l0,-53.665Z /> <path d=M67.535,17.387l0,53.666l18.774,-9.388l0,-53.665l-18.774,9.387Z style="fill-opacity: 0.25"/> </svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": ".", "features": ["tabs", "navigation.tabs"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script> <script src=assets/javascripts/iframe-worker-0.2.0.js></script> <script src=search/search_index.js></script> <script src=assets/javascripts/bundle.4ea5477f.min.js></script> </body> </html>